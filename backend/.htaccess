# 1. Ensure the Authorization header is passed to PHP (Crucial for JWT)
SetEnvIf Authorization "(.*)" HTTP_AUTHORIZATION=$1

# 2. Disable directory browsing for security
Options -Indexes

# 3. Handle Routing
RewriteEngine On

# If the request is NOT a real file and NOT a real directory...
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
# ...send the request to index.php in the SAME folder as this .htaccess
RewriteRule ^(.*)$ index.php [QSA,L]